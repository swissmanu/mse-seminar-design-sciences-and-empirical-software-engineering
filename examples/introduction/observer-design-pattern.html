<!doctype html>
<html class="no-js" lang="">

<head>
  <meta charset="utf-8">
  <title>Observer Design Pattern | Introduction</title>
  <script src="./shared.js"></script>
</head>

<body>
  <header>
    <h1>Introduction</h1>
    <h2>Observer Design Pattern</h2>
  </header>
  <section>
    <p>
      <input id="input" type="text" />
    </p>
    <p>
      Output (debounced): <span id="output" />
    </p>
  </section>
  <script defer>
    function debounce(fn, delay) {
      let timeoutHandle;

      return function() {
        if (timeoutHandle) {
          clearTimeout(timeoutHandle);
        }

        const scope = this;
        const parameters = arguments;
        timeoutHandle = setTimeout(() => fn.apply(scope, parameters), delay);
      }
    }

    getTextField().addEventListener(
      "keyup",
      debounce(({ target: { value } }) => setOutput(value.toUpperCase()), 300)
    );
  </script>
</body>

</html>